<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login | AI Tools HubX</title>
  <style>
    :root {
      --bg: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      --text-color: white;
      --card-bg: rgba(255, 255, 255, 0.05);
      --glow: #6a00ff;
      --error-bg: #ff4c4c;
      --error-text: white;
    }

    [data-theme="dark"] {
      --bg: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    }

    [data-theme="light"] {
      --bg: linear-gradient(135deg, #f0f0f0, #ccccff);
      --text-color: #111;
      --card-bg: #ffffffcc;
      --glow: #6a00ff;
      --error-bg: #ffcccc;
      --error-text: #900;
    }

    * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text-color);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      background: var(--card-bg);
      padding: 30px;
      border-radius: 20px;
      backdrop-filter: blur(12px);
      box-shadow: 0 0 20px var(--glow);
      width: 90%;
      max-width: 400px;
      animation: fadeIn 1s ease-in-out;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    input, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
    }

    input {
      background: #1e1e30;
      color: white;
    }

    button {
      background: linear-gradient(to right, #6a00ff, #00d4ff);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease-in-out;
    }

    button:hover {
      transform: scale(1.02);
    }

    .switch {
      text-align: center;
      font-size: 0.9rem;
      margin-top: 10px;
    }

    .switch span {
      color: #00d4ff;
      cursor: pointer;
    }

    .error-box {
      background: var(--error-bg);
      color: var(--error-text);
      padding: 10px;
      border-radius: 6px;
      font-size: 0.9rem;
      display: none;
      margin-bottom: 10px;
    }

    .theme-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      color: var(--text-color);
      border: none;
      cursor: pointer;
      font-weight: bold;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ— Theme</button>
  <div class="container">
    <h2 id="formTitle">Login</h2>
    <div id="errorBox" class="error-box"></div>
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <button id="authBtn">Login</button>
    <button id="googleBtn">Sign in with Google</button>
    <div class="switch">
      <span id="switchMode">Don't have an account? Sign Up</span>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

  <script>
    // âœ… Your Firebase project config (fully working)
    const firebaseConfig = {
      apiKey: "AIzaSyDS4vfmRx57tRrmyNVU0DvoukI3cd06--8",
      authDomain: "ai-tools-hubx.firebaseapp.com",
      projectId: "ai-tools-hubx",
      storageBucket: "ai-tools-hubx.firebasestorage.app",
      messagingSenderId: "789322498896",
      appId: "1:789322498896:web:79ddfeb83a328a04cd6255",
      measurementId: "G-W1BE3HZ9TC"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const emailEl = document.getElementById("email");
    const passEl = document.getElementById("password");
    const btn = document.getElementById("authBtn");
    const switcher = document.getElementById("switchMode");
    const title = document.getElementById("formTitle");
    const errorBox = document.getElementById("errorBox");
    const googleBtn = document.getElementById("googleBtn");

    let isLogin = true;

    switcher.onclick = () => {
      isLogin = !isLogin;
      title.innerText = isLogin ? "Login" : "Sign Up";
      btn.innerText = isLogin ? "Login" : "Sign Up";
      switcher.innerHTML = isLogin ? "Don't have an account? <span>Sign Up</span>" : "Already have an account? <span>Login</span>";
      errorBox.style.display = "none";
    };

    btn.onclick = () => {
      const email = emailEl.value.trim();
      const pass = passEl.value.trim();
      if (!email || !pass) return showError("Email and password are required.");

      const action = isLogin ? auth.signInWithEmailAndPassword : auth.createUserWithEmailAndPassword;
      action(email, pass)
        .then(() => window.location.href = "index.html")
        .catch(err => showError(err.message));
    };

    googleBtn.onclick = () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then(() => window.location.href = "index.html")
        .catch(err => showError(err.message));
    };

    function showError(msg) {
      errorBox.innerText = msg;
      errorBox.style.display = "block";
    }

    function toggleTheme() {
      const html = document.documentElement;
      const newTheme = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
      html.setAttribute("data-theme", newTheme);
      localStorage.setItem("theme", newTheme);
    }

    // Load saved theme
    (function () {
      const saved = localStorage.getItem("theme") || "light";
      document.documentElement.setAttribute("data-theme", saved);
    })();
  </script>
</body>
</html>

